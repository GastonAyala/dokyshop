<!DOCTYPE html>
<html lang="es">
          <%- include('../partials/head',  {view: "Listado de productos",gliderCSSDisabled:true}) %>
    <body>

        <%- include('../partials/header') %>

        <main class="list-product ">
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center m-5">
                    <li class="page-item <% if(lessPage == 0) { %> <%= 'disabled' %> <% } %>">
                        <a class="page-link  link-warning link-danger-custom" href="/productos?page=<%= lessPage %>&offset=<%= lessOffset %>" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
    
                    <% let sendOffset = 0 %>
                    <% for( let i = 1; i <= totalPages ; i++ ) { %>
                        
                    <li class="page-item">
                        <a class="page-link link-warning link-danger-custom <% if (page - 1 === i ) { %> <%= "link-active" %><% } %>" href="/productos?page=<%= i %>&offset=<%= sendOffset %>"><%= i %></a>
                    </li>
    
                    <% sendOffset = sendOffset + 5  %>
    
                    <% } %>
                    <li class="page-item <% if (page === totalPages + 1) { %> <%= 'disabled' %> <% } %>">
                        <a class="page-link  link-warning link-danger-custom" href="/productos?page=<%= page %>&offset=<%= offset %>" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="listProd-container row">
            <% products.forEach(p => { %>
             
           
            <article class="listProduct col-6">
                
                <figure class="listProduct-img-container">
                    <a href="/productos/detalle/<%= p.id %>"><img src="/images/products/<%= p.imagePrincipal%>" alt="recommended products" ></a>
                </figure>
                <div class="listProduct-description">
                    <a href="/productos/detalle/<%= p.id %>">
                        <h5><%= p.title%></h5>
                    </a>
                    <p>$ <%= p.price%></p>
                    <a class="listProduct-buyCart" href="/carrito-compra"><i class="fa-solid fa-cart-plus"></i></a>
                </div>
            </article>
            <% }) %> 
        </div>
        </main>




        <%- include('../partials/footer') %>

        <%- include('../partials/scripts',{disabledGliderJS:true}) %>
      
    </body>
</html>
